Шпаргалка по работе с командной сторокой и GIT

#Знакомство с командной строкой.
Если вы пользователь macOS или Linux, запустите программу Terminal. Её можно найти через окно поиска операционной системы. А можно использовать комбинацию горячих клавиш:
для Linux — Ctrl+Alt+T;
для macOS — Cmd+Space, затем ввести terminal.
Если вы пользователь Windows, установите и запустите программу [Git Bash]:https://gitforwindows.org/ "Установка с оф.сайта".
В открывшемся окне вы увидите:
имя вашего компьютера;
имя, под которым вы авторизовались в компьютере;
символ доллара ($) — он означает, что программа ждёт ваших команд.
## Команды для работы в консоли(перемещение, нахождение, содержание)
В зависимости от операционной системы порядок компонентов и внешний вид строки могут немного различаться.
В командной строке не видно где находишься в данный момент! Надо быть внимательным. И перед любыми действиями проверять директорию где находишься.
Для этого необходимо ввести команду:

pwd (print working directory - "показать рабочую папку")

Операционные системы Windows, Linux и macOS отличаются друг от друга. В том числе в том, как работают их файловые системы. 
Например, для Windows путь начинается с буквы диска C — /c/ или c:/. В Linux нет букв дисков, а домашняя директория находится в /home вместо /Users. В macOS есть папка /Users, но нет букв дисков.

**Для перехода между директориями(папками) используется команда:**

cd (change directory - "сменить директорию")

Рассмотрим такой путь: с/1_directory/2_directory/3_directory/4_directory

cd ~ - переходим в начальную директорию
cd 1_directory/ - переходим в 1 директорию
cd 1_directory/2_directory/ - переходим сразу во 2 директорию
cd .. - переходим на уровень выше, т.е. в папку 1_directory

**Для просмотра содержимого директории используется команда:**

ls (list directory contents)- показывает всё видимое содержимое директории

ls -a - показывает все файлы(даже скрытые)

ls ~ - показывает все файлы домашней директории, независимо от нахождения в другой папке

ls .. - показывает содержание родительской директории

## Операции с папками и файлами.

touch my-new-file.txt - создание в текущей директории файла с расширением .txt

mkdir new_folder - создание директории(папки) new_folder

mkdir -p new_folder/1_folder/2_folder создаст папку 2_folder в папке 1_folder в папке new_folder

**Копирование файла(ов)**

cp - (copy) - копирование

cp что_копируем куда_копируем 

cp index.html src/ (копируем файл index.html в папку src/)

Можно сразу несколько файлов скопировать:

cp что_копируем что_копируем что_копируем куда_копируем 

cp index.html style.css script.js src/ (копируем 3 файла index.html, style.css, script.js в папку src/)

**Перемещение файлов**

mv (move) - переместить

mv что_перемещаем куда_перемещаем

mv file_1.txt ./folder_2

**Чтение файлов**

cat (concatenate and print) - объединить и распечатать

cat my_file.txt

Команда работает только с текстовыми файлами!

**Удаление файлов и папок**

rm (remove) - удаление

rm my_file.txt

rmdir  (remove directory) - удаление папки

Если папка не пуста то выйдет предупреждение и операция будет отменена

rm -r ( -r recursive) - удаляет вложенные в папку файлы, а затем саму папку.

**Выполнение нескольких команд сразу**

Команды можно вбивать списком, а не по одной.

mkdir second_project && cd sekond_project && touch index.html style.css

mkdir second_project - создаем папку second_project 
cd second_project - переходим в папку second_project 
touch index.html style.css - создаем в папке 2 файла

**Вызов команды из буфера**

У терминала есть своя память. Чтобы посмотреть введённые ранее команды не обходимо воспользоваться стрелками на клавиатуре(вверх и вниз)

**Автозаполнение в командной строке**

При наборе начальных символов команды можно нажать tab и командная строка сама заполнит если команда одна или если несколько команд начинаются на эти символы - то выведет список команд при двойном нажитии tab.
Так же происходит и с файлами и папками. 

#GIT

Git — это система контроля версий, которая помогает отслеживать изменения в проекте. Этот инструмент можно использовать как для индивидуальной, так и для командной работы.
Git позволяет сохранять изменения локально и при необходимости возвращаться к предыдущим версиям проекта. Также можно создать удалённую копию на хостинг-платформе, которая работает с Git, и поделиться результатом с другими.

**Инициализация репозитория**

Чтобы Git начал отслеживать изменения в проекте, папку с файлами этого проекта нужно сделать Git-репозиторием (от англ. repository — «хранилище»). Для этого следует переместиться в неё и ввести команду git init (от англ. initialize — «инициализировать»).

**Отмена инициализации репозитория**

Если вы случайно сделали Git-репозиторием не ту папку, её можно «разгитить». Для этого нужно удалить скрытую подпапку .git.

$ cd <папка с репозиторием> # перешли в папку

$ rm -rf .git # удалили подпапку .git 
Разберём подробнее, что такое -rf:
ключ -r (от англ. recursive — «рекурсивно») позволяет удалять папки вместе с их содержимым;
ключ -f (от англ. force — «заставить») избавит вас от вопросов вроде «Вы точно хотите удалить этот файл? А этот? И этот тоже?».

**Проверка состояния репозитория**

Для проверки в каком сотстоянии файлы находятся в данном репозитории необходимо ввести команду git status

**Добавление файлов в репозиторий**

Чтобы отслеживать изменения в файлах проекта, необходимо использовать команду git add --all (от англ. add — «добавить» + от англ. all — «всё»). Ключ, или флаг, --all позволяет подготовить к сохранению все файлы в репозитории.
$ git add --all # подготовили к сохранению все файлы в репозитории
$ git status # проверили статус 
Добавлять файлы можно и по одному, без ключа --all.
$ git add todo.txt
$ git add readme.txt
$ git status 
Также можно добавить текущую папку целиком — в этом случае все файлы в ней тоже будут добавлены. Обратиться к текущей папке в Bash позволяет точка (.).
$ git add . # добавить всю текущую папку
$ git status 
Вы можете использовать любой из этих вариантов — результат будет одинаковый.
Команда git add не сохраняет содержимое файлов в репозитории. Само сохранение, или фиксацию состояния файлов, называют коммитом (от англ. commit — «совершать», «фиксировать»). «Сделать коммит» значит сохранить текущую версию файла. 
Если провести аналогию, команду git add можно сравнить с добавлением товаров в корзину в интернет-магазине, а коммит — с оформлением и оплатой заказа.

**Делаем первый коммит**

Чтобы сохранить изменения в файлах необходимо воспользоваться командой git commit. Для того чтобы понимать что было изменено  можно воспользоваться ключом -m.
git commit -m "Изменение кнопки выхода"

#GitHub

GitHub — платформа для хранения IT-проектов и совместной работы над ними с использованием Git. По сути, это сайт, куда можно загрузить файлы своего проекта для обмена с другими людьми.
С английского языка слово hub переводится как «узловая станция». И действительно, GitHub стал самым популярным сайтом для хранения Git-репозиториев. Многие крупные компании, такие как Google, Apple, Valve, используют GitHub для своих проектов. 
GitHub подходит, чтобы отточить навыки работы с Git. Здесь можно завести аккаунт и вместе со своей командой работать над любыми задачами. Можно создавать проекты разных типов: 
приватный — только для вас;
командный — только для членов команды;
публичный — будет виден всем.

**SSH-ключи**

Когда компьютеры обмениваются данными в сети, они следуют сетевым протоколам (англ. network protocols) — правилам обмена данными между компьютерами.
Один из наиболее распространённых сетевых протоколов — SSH (от англ. Secure Shell Protocol). Он обеспечивает безопасный обмен данными в сети. С помощью этого протокола можно получать данные с удалённого компьютера или отправлять их на него. Трафик шифруется, поэтому протокол безопасен.
SSH использует пару ключей для обеспечения безопасности — публичный и приватный: 
Приватный ключ (англ. private key) хранится только на вашем компьютере и не должен передаваться кому-либо ещё. Он используется для расшифровки данных.
Публичный ключ (англ. public key) доступен всем и используется для шифрования данных. Они могут быть расшифрованы парным приватным ключом.

**Проверка наличия SSH-ключа**

Прежде чем генерировать SSH-ключи, убедитесь, что у вас их ещё нет. По умолчанию директория с SSH-ключами находится в домашней директории пользователя. Перейдите в неё.

$ cd ~ # перешли в домашнюю директорию 
Обычно SSH-ключи находятся в директории .ssh/. Проверить наличие этой директории и файлов в ней можно с помощью следующей команды.

$ ls -la .ssh/ # вывели список созданных ключей 
Если папка пустая или её нет, всё в порядке. 
Если есть файлы с похожими названиями, SSH-ключи уже создавались:
id_dsa.pub;
id_ecdsa.pub;
id_ed25519.pub;
id_rsa.pub.
Если вы не создавали эти файлы, удалите их все.

**Генерация SSH-ключей**

Для генерации SSH-пары можно использовать программу ssh-keygen. Откройте терминал и введите следующую команду.
$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub" 
После генерации ключей необходимо их добавить на  GitHub.

**Связывание локального и удаленного репозиториев**

Создав на компьютере локальный репозиторий мы можем скачивать и отправлять файлы в удаленный репозиторий на GitHub. Для этого на удаленном репозитории необходимо скопировать URL и потом посредством ввода команды git remote add origin git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ_ПРОЕКТА%.git

**Проверка связи репозиториев**

Проверка производится командой git remove -v
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (fetch)
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (push) 
В выводе вы должны увидеть две строчки, аналогичные тем, что показаны выше.
**Получение файлов с удаленного репозитория**
Для работы с файлами которые находятся на удаленном репозитории(при условии синхронизированных репозиториев) и были изменены уже после вас необходимо получить самую свежую версию с помощью команды git pull
**Отправка измененных файлов на удаленный репозиторий**
Изменив файл на локальном репозитории его необходимо отправить на удаленный репозиторий. Для этого необходимо ввести команду git push
В первый раз эту команду нужно вызвать с флагом -u и параметрами origin (имя удалённого репозитория) и main или master (название текущей ветки). Флаг -u свяжет локальную ветку с одноимённой удалённой. Как вы связывали локальный и удалённый репозитории в предыдущем уроке, так же и здесь нужно дополнительно связать ветки.

#Хеш

**Что такое хеш. Хешированние коммитов**

Хеширование (от англ. hash, «рубить», «крошить», «мешанина») — это способ преобразовать набор данных и получить их «отпечаток» (англ. fingerprint).
Информация о коммите — это набор данных: когда был сделан коммит, содержимое файлов в репозитории на момент коммита и ссылка на предыдущий, или родительский (англ. parent), коммит.
Git хеширует (преобразует) информацию о коммите с помощью алгоритма SHA-1 (от англ. Secure Hash Algorithm — «безопасный алгоритм хеширования») и получает для каждого коммита свой уникальный хеш — результат хеширования.

**Хеш - основной идентификатор коммита**

Git хранит таблицу соответствий хеш ? информация о коммите. Если вы знаете хеш, вы можете узнать всё остальное: автора и дату коммита и содержимое закоммиченных файлов. Можно сказать, что хеш — основной идентификатор коммита.
При работе с Git хеши будут встречаться вам регулярно. Их можно будет передавать в качестве параметра разным Git-командам, чтобы указать, с каким коммитом нужно произвести то или иное действие.
Все хеши и таблицу хеш ? информация о коммите Git сохраняет в служебные файлы. Они находятся в скрытой папке .git в репозитории проекта.

#Лог

Лог - это журнал записей коммитов

**Полный лог**

После вызова команды git log будет выведен весь список коммитов с информацией: хэш коммита, автор, время и комментарий автора к коммиту

**Сокращенный лог**

Получить сокращенный лог можно с помощью команды git log --oneline
В таком случае будет выведен список коммитов с указанием нескольких символов хеша(подобранных уникально в пределах репозитория) и комментария автора

#HEAD

При вызове команды git log вы также могли заметить надпись (HEAD -> master) после хеша одного из коммитов. 
Файл HEAD (англ. «голова», «головной») — один из служебных файлов папки .git. Он указывает на коммит, который сделан последним (то есть на самый новый).
В этом можно убедиться с помощью терминала. Перейдите в папку .git командой cd. Посмотрите содержимое файла HEAD командой cat.
Скопировать кодBASH
$ pwd # посмотрели, где мы
/Users/user/dev/first-project
$ cd .git/
$ ls # посмотрели, какие есть файлы
COMMIT_EDITMSG  ORIG_HEAD  description  index  logs/     refs/
HEAD            config     hooks/       info/  objects/
$ cat HEAD # команда cat показывает содержимое файла
ref: refs/heads/master # в файле вот такая ссылка 
Внутри HEAD — ссылка на служебный файл: refs/heads/master (или refs/heads/main в зависимости от названия ветки). Если заглянуть в этот файл, можно увидеть хеш последнего коммита.
Скопировать кодBASH
$ cat refs/heads/master # взяли ссылку из файла HEAD
# внутри хеш
e007f5035f113f9abca78fe2149c593959da5eb7
$ git log 
# сверяем с хешем последнего коммита
commit e007f5035f113f9abca78fe2149c593959da5eb7
Author: John Doe <johndoe@example.com>
Date:   Tue Mar 28 00:26:53 2023 +0300

    Добавить амбиций в список дел
